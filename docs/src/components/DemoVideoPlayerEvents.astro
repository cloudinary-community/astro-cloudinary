---
import { CldVideoPlayer, type CldVideoPlayerProps } from '../../../astro-cloudinary';

interface Props extends CldVideoPlayerProps {};

const props: Props = Astro.props;
---
<CldVideoPlayer {...props} id="cldvideoplayer-event-demo" />

<script>
import type { CldVideoPlayerEventDetail } from '../../../astro-cloudinary';

const videoPlayer = document.querySelector(`#cldvideoplayer-event-demo`);

if ( videoPlayer ) {
  videoPlayer.addEventListener('cldvideoplayer:loadedmetadata', (e: CustomEvent<CldVideoPlayerEventDetail>) => {
    console.log('cldvideoplayer:loadedmetadata', e.detail)
  });

  videoPlayer.addEventListener('cldvideoplayer:play', (e: CustomEvent<CldVideoPlayerEventDetail>) => {
    console.log('cldvideoplayer:play', e.detail)
  });

  videoPlayer.addEventListener('cldvideoplayer:pause', (e: CustomEvent<CldVideoPlayerEventDetail>) => {
    console.log('cldvideoplayer:pause', e.detail)
  });
};
</script>