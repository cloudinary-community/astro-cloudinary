---
import { CldImage, type CldImageProps } from '../../../astro-cloudinary';

interface Props extends CldImageProps {};

const props: Props = Astro.props;
---
<CldImage {...props} id="cldimage-event-demo" />

<script>
import type { CldImageErrorEventDetail } from '../../../astro-cloudinary';

const image = document.querySelector('#cldimage-event-demo');

if ( image ) {
  image.addEventListener('cldimage:error', (e: CustomEvent<CldImageErrorEventDetail>) => {
    console.log('cldimage:error', e.detail)
  });
};
</script>